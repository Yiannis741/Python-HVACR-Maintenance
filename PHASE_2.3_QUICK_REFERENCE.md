# Phase 2.3 - Quick Reference Guide

## ğŸš€ Quick Start

### What Changed?

**Before**: Tasks had only a Type (e.g., "Service")
**After**: Tasks have both Type AND Item (e.g., "Service" â†’ "Î•Ï„Î®ÏƒÎ¹Î¿ Service")

### New Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Creating a New Task (Step by Step)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£  Select "ÎŸÎ¼Î¬Î´Î± ÎœÎ¿Î½Î¬Î´Ï‰Î½"      â†’  e.g., "ÎšÎ»Î¹Î¼Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬"
                                     â†“ (filters units)
2ï¸âƒ£  Select "ÎœÎ¿Î½Î¬Î´Î±"              â†’  e.g., "VRV-A101"

3ï¸âƒ£  Select "Î¤ÏÏ€Î¿Ï‚ Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚"     â†’  e.g., "Service"
                                     â†“ (filters items)
4ï¸âƒ£  Select "Î•Î¯Î´Î¿Ï‚ Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚"     â†’  e.g., "Î•Ï„Î®ÏƒÎ¹Î¿ Service" âš ï¸ REQUIRED

5ï¸âƒ£  Fill in description, status, priority, etc.

6ï¸âƒ£  Click "ğŸ’¾ Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·"
```

---

## ğŸ“‹ New Sidebar Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Main Menu (Sidebar)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ  Î‘ÏÏ‡Î¹ÎºÎ®                            â”‚
â”‚ â• ÎÎ­Î± Î•ÏÎ³Î±ÏƒÎ¯Î±                       â”‚
â”‚ ğŸ“‹ Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ                 â”‚
â”‚ âœï¸ Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Î•Î³Î³ÏÎ±Ï†Î®Ï‚             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¢ Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· ÎœÎ¿Î½Î¬Î´Ï‰Î½    â† Renamed  â”‚
â”‚    â”œâ”€ Tab: ÎœÎ¿Î½Î¬Î´ÎµÏ‚                   â”‚
â”‚    â””â”€ Tab: ÎŸÎ¼Î¬Î´ÎµÏ‚                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î•ÏÎ³Î±ÏƒÎ¹ÏÎ½   â† NEW!     â”‚
â”‚    â”œâ”€ Tab: Î¤ÏÏ€Î¿Î¹ Î•ÏÎ³Î±ÏƒÎ¹ÏÎ½           â”‚
â”‚    â””â”€ Tab: Î•Î¯Î´Î· Î•ÏÎ³Î±ÏƒÎ¹ÏÎ½  â† NEW!    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“… Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î’Î±ÏÎ´Î¹ÏÎ½                â”‚
â”‚ ğŸ“¤ Î•Î¾Î±Î³Ï‰Î³Î®                           â”‚
â”‚ ğŸ—‘ï¸ ÎšÎ¬Î´Î¿Ï‚ Î‘Î½Î±ÎºÏÎºÎ»Ï‰ÏƒÎ·Ï‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ Data Structure

### Hierarchical Organization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  TASK STRUCTURE                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ÎŸÎœÎ‘Î”Î•Î£     â”‚      â”‚    Î¤Î¥Î ÎŸÎ™     â”‚
â”‚   ÎœÎŸÎÎ‘Î”Î©Î    â”‚      â”‚  Î•Î¡Î“Î‘Î£Î™Î©Î    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚
       â”‚ (1:N)               â”‚ (1:N)
       â†“                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ÎœÎŸÎÎ‘Î”Î•Î£    â”‚      â”‚    Î•Î™Î”Î—      â”‚
â”‚              â”‚      â”‚  Î•Î¡Î“Î‘Î£Î™Î©Î    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ (N:1 each)
                  â†“
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  Î•Î¡Î“Î‘Î£Î™Î•Î£    â”‚
           â”‚   (TASKS)    â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example Hierarchy

```
ÎšÎ»Î¹Î¼Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬ (Group)              Service (Type)
â”œâ”€â”€ VRV-A101                      â”œâ”€â”€ Î•Ï„Î®ÏƒÎ¹Î¿ Service
â”œâ”€â”€ VRV-A201                      â”œâ”€â”€ Î•Î¾Î±Î¼Î·Î½Î¹Î±Î¯Î¿ Service
â””â”€â”€ Split-B105                    â””â”€â”€ ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Î¦Î¯Î»Ï„ÏÏ‰Î½
                                           â”‚
                                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â†“
    Task: "Î•Ï„Î®ÏƒÎ¹Î¿ Service Ï„Î¿Ï… VRV-A101"
    â”œâ”€ Unit: VRV-A101 (from ÎšÎ»Î¹Î¼Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬)
    â”œâ”€ Type: Service
    â””â”€ Item: Î•Ï„Î®ÏƒÎ¹Î¿ Service
```

---

## ğŸ“Š Available Task Items

### Service (9 items)
```
âœ“ Î•Ï„Î®ÏƒÎ¹Î¿ Service
âœ“ Î•Î¾Î±Î¼Î·Î½Î¹Î±Î¯Î¿ Service
âœ“ Î¤ÏÎ¹Î¼Î·Î½Î¹Î±Î¯Î¿ Service
âœ“ ÎœÎ·Î½Î¹Î±Î¯Î¿ Service
âœ“ ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Î¦Î¯Î»Ï„ÏÏ‰Î½
âœ“ ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î¨Ï…ÎºÏ„Î¹ÎºÎ¿Ï Î¥Î³ÏÎ¿Ï
âœ“ ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Î•ÏƒÏ‰Ï„ÎµÏÎ¹ÎºÏÎ½ Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Ï‰Î½
âœ“ ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Î•Î¾Ï‰Ï„ÎµÏÎ¹ÎºÏÎ½ Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Ï‰Î½
âœ“ ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î Î¹Î­ÏƒÎµÏ‰Î½
```

### Î’Î»Î¬Î²Î· (10 items)
```
âœ“ Î”Î¹Î±ÏÏÎ¿Î® Î¨Ï…ÎºÏ„Î¹ÎºÎ¿Ï
âœ“ Î ÏÏŒÎ²Î»Î·Î¼Î± Compressor
âœ“ Î ÏÏŒÎ²Î»Î·Î¼Î± Î‘Î½ÎµÎ¼Î¹ÏƒÏ„Î®ÏÎ± Î•ÏƒÏ‰Ï„ÎµÏÎ¹ÎºÎ¿Ï
âœ“ Î ÏÏŒÎ²Î»Î·Î¼Î± Î‘Î½ÎµÎ¼Î¹ÏƒÏ„Î®ÏÎ± Î•Î¾Ï‰Ï„ÎµÏÎ¹ÎºÎ¿Ï
âœ“ ÎœÎ· Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±
âœ“ Î˜ÏŒÏÏ…Î²Î¿Ï‚ Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±Ï‚
âœ“ Î ÏÏŒÎ²Î»Î·Î¼Î± Î Î»Î±ÎºÎ­Ï„Î±Ï‚
âœ“ Î ÏÏŒÎ²Î»Î·Î¼Î± Î‘Î¹ÏƒÎ¸Î·Ï„Î®ÏÎ±
âœ“ Î”Î¹Î±ÏÏÎ¿Î® ÎÎµÏÎ¿Ï
âœ“ Î ÏÏŒÎ²Î»Î·Î¼Î± Î‘Ï€Î¿ÏƒÏ„ÏÎ¬Î³Î³Î¹ÏƒÎ·Ï‚
```

### Î•Ï€Î¹ÏƒÎºÎµÏ…Î® (9 items)
```
âœ“ Î‘Î½Ï„Î¹ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Compressor
âœ“ Î‘Î½Ï„Î¹ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î Î»Î±ÎºÎ­Ï„Î±Ï‚
âœ“ Î£Ï…Î³ÎºÏŒÎ»Î»Î·ÏƒÎ· Î”Î¹Î±ÏÏÎ¿Î®Ï‚
âœ“ Î‘Î½Ï„Î¹ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î‘Î½ÎµÎ¼Î¹ÏƒÏ„Î®ÏÎ±
âœ“ Î¦ÏŒÏÏ„Î¹ÏƒÎ· Î¨Ï…ÎºÏ„Î¹ÎºÎ¿Ï
âœ“ Î‘Î½Ï„Î¹ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î‘Î¹ÏƒÎ¸Î·Ï„Î®ÏÎ±
âœ“ Î•Ï€Î¹ÏƒÎºÎµÏ…Î® Î‘Ï€Î¿ÏƒÏ„ÏÎ¬Î³Î³Î¹ÏƒÎ·Ï‚
âœ“ Î‘Î½Ï„Î¹ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î¦Î¯Î»Ï„ÏÎ¿Ï…
âœ“ ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Î‘Ï€Î¿Ï†ÏÎ¬Î¾ÎµÏ‰Î½
```

### Î‘Ï€Î»ÏŒÏ‚ ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ (6 items)
```
âœ“ ÎŸÏ€Ï„Î¹ÎºÏŒÏ‚ ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚
âœ“ ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±Ï‚
âœ“ ÎœÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚ Î Î¯ÎµÏƒÎ·Ï‚
âœ“ ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±Ï‚
âœ“ ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î—Î»ÎµÎºÏ„ÏÎ¹ÎºÏÎ½
âœ“ ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î£Ï„Î¬Î¸Î¼Î·Ï‚ Î¨Ï…ÎºÏ„Î¹ÎºÎ¿Ï
```

---

## ğŸ› ï¸ Managing Task Items

### Adding a New Item

```
1. Go to: ğŸ“‹ Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î•ÏÎ³Î±ÏƒÎ¹ÏÎ½
2. Click: Tab "Î•Î¯Î´Î· Î•ÏÎ³Î±ÏƒÎ¹ÏÎ½"
3. Select Type from dropdown (e.g., "Service")
4. Click: â• Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î•Î¯Î´Î¿Ï…Ï‚
5. Enter name and description
6. Click: ğŸ’¾ Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·
```

### Editing an Item

```
1. Navigate to the item in the list
2. Click: âœï¸ (Edit button)
3. Modify name/description
4. Click: ğŸ’¾ Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·
```

### Deleting an Item

```
1. Navigate to the item in the list
2. Click: ğŸ—‘ï¸ (Delete button)
3. Confirm deletion

Note: Cannot delete items that are used in existing tasks!
```

---

## âš ï¸ Important Notes

### Validation Rules
- âœ… **Î•Î¯Î´Î¿Ï‚ Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚ is REQUIRED** when creating/editing tasks
- âœ… Cannot save a task without selecting an item
- âœ… Cannot delete task items that are in use
- âœ… Item names must be unique within each type

### Backward Compatibility
- Old tasks without task_item_id still display correctly
- System shows "N/A" for tasks without items
- No data loss during migration

---

## ğŸ” Finding Information

### Where to See Task Items in UI

1. **Task Form**: Dropdown "Î•Î¯Î´Î¿Ï‚ Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚"
2. **Task Cards**: Shows as "Type â†’ Item"
3. **Task Detail View**: Separate fields for Type and Item
4. **History View**: Includes both in listings
5. **Management Screen**: Full CRUD interface

### Database Queries

```python
# Get items for a specific type
items = database.get_task_items_by_type(type_id)

# Get all items
all_items = database.get_all_task_items()

# Create a task with item
task_id = database.add_task(
    unit_id=1,
    task_type_id=1,
    task_item_id=5,  # â† NEW parameter
    description="...",
    # ... other params
)
```

---

## ğŸ“ Troubleshooting

### "Î•Î¯Î´Î¿Ï‚ Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚ dropdown is empty"
â†’ Make sure you selected a "Î¤ÏÏ€Î¿Ï‚ Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚" first

### "Cannot save task without item"
â†’ This is required! Select an item from the dropdown

### "Cannot delete this item"
â†’ Item is used in existing tasks. Delete/modify those tasks first

### "ÎœÎ¿Î½Î¬Î´Î± dropdown is empty"
â†’ Select an "ÎŸÎ¼Î¬Î´Î± ÎœÎ¿Î½Î¬Î´Ï‰Î½" first

---

## ğŸ“ Key Concepts

### Cascade Selection
- **Parent controls child**: Selecting parent filters child options
- **Examples**:
  - Group â†’ Units (only units from that group)
  - Type â†’ Items (only items for that type)

### Soft Delete
- Items are marked as inactive, not permanently deleted
- Preserves data integrity
- Can be restored if needed

### Validation at UI Layer
- Checks happen before database operations
- Immediate feedback to users
- Prevents invalid data entry

---

*Quick reference for Phase 2.3 - Hierarchical Task Management System*
